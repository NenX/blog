(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{360:function(a,t,v){a.exports=v.p+"assets/img/flag0.532b2ae6.png"},361:function(a,t,v){a.exports=v.p+"assets/img/flag1.e1394574.png"},362:function(a,t,v){a.exports=v.p+"assets/img/flag2.ed2afb68.png"},363:function(a,t,v){a.exports=v.p+"assets/img/flag3.0eab44b4.png"},364:function(a,t,v){a.exports=v.p+"assets/img/flag4.f691690f.png"},365:function(a,t,v){a.exports=v.p+"assets/img/flag5.311bfabd.png"},366:function(a,t,v){a.exports=v.p+"assets/img/flag6.4a267698.png"},411:function(a,t,v){"use strict";v.r(t);var s=v(42),_=Object(s.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" 概述")]),a._v(" "),s("p",[a._v("实验基于DOSBox")]),a._v(" "),s("h3",{attrs:{id:"标志-flag-寄存器的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标志-flag-寄存器的作用"}},[a._v("#")]),a._v(" 标志(flag)寄存器的作用:")]),a._v(" "),s("ul",[s("li",[a._v("用来存储相关指令的某些执行结果")]),a._v(" "),s("li",[a._v("用来为CPU执行相关指令提供行为依据")]),a._v(" "),s("li",[a._v("用来控制CPU相关工作方式")])]),a._v(" "),s("h3",{attrs:{id:"_8086cpu的flag寄存器的结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8086cpu的flag寄存器的结构"}},[a._v("#")]),a._v(" 8086CPU的flag寄存器的结构")]),a._v(" "),s("p",[s("img",{attrs:{src:v(360),alt:"image"}})]),a._v(" "),s("h2",{attrs:{id:"debug里看标志位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debug里看标志位"}},[a._v("#")]),a._v(" debug里看标志位")]),a._v(" "),s("p",[a._v("进行标志位学习和验证前，先看一下如何在debug里看标志位")]),a._v(" "),s("p",[a._v("使用命令"),s("code",[a._v("-r")]),a._v("\n屏幕右下角打印出来 NV UP EI PL NZ NA PO NC 这些符号代表的就是标志寄存器里常用的标志位的值")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("标志位")]),a._v(" "),s("th",[a._v("true")]),a._v(" "),s("th",[a._v("false")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("OF")]),a._v(" "),s("td",[a._v("OV(1)")]),a._v(" "),s("td",[a._v("NV(0)")])]),a._v(" "),s("tr",[s("td",[a._v("DF")]),a._v(" "),s("td",[a._v("DN(1)")]),a._v(" "),s("td",[a._v("UP(0)")])]),a._v(" "),s("tr",[s("td",[a._v("IF")]),a._v(" "),s("td",[a._v("EI(1)")]),a._v(" "),s("td",[a._v("DI(0)")])]),a._v(" "),s("tr",[s("td",[a._v("SF")]),a._v(" "),s("td",[a._v("NG(1)")]),a._v(" "),s("td",[a._v("PL(0)")])]),a._v(" "),s("tr",[s("td",[a._v("ZF")]),a._v(" "),s("td",[a._v("ZR(1)")]),a._v(" "),s("td",[a._v("NZ(0)")])]),a._v(" "),s("tr",[s("td",[a._v("AF")]),a._v(" "),s("td",[a._v("AC(1)")]),a._v(" "),s("td",[a._v("NA(0)")])]),a._v(" "),s("tr",[s("td",[a._v("PF")]),a._v(" "),s("td",[a._v("PE(1)")]),a._v(" "),s("td",[a._v("PO(0)")])]),a._v(" "),s("tr",[s("td",[a._v("CF")]),a._v(" "),s("td",[a._v("CY(1)")]),a._v(" "),s("td",[a._v("NC(0)")])])])]),a._v(" "),s("h2",{attrs:{id:"标志位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标志位"}},[a._v("#")]),a._v(" 标志位")]),a._v(" "),s("h3",{attrs:{id:"zf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zf"}},[a._v("#")]),a._v(" ZF")]),a._v(" "),s("p",[a._v("零标志位，flag的第六位记录相关指令执行后，结果为0，则ZF=1;若结果不为0，ZF=0.")]),a._v(" "),s("p",[a._v("执行")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("mov ax,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nsub ax,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n\nmov ax,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\nsub ax,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),s("p",[s("img",{attrs:{src:v(361),alt:"image"}})]),a._v(" "),s("p",[a._v("可以看到 当计算ax结果为0时，ZF是ZR=1;结果为1(不为0)时，ZF是NZ=0.")]),a._v(" "),s("h3",{attrs:{id:"pf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pf"}},[a._v("#")]),a._v(" PF")]),a._v(" "),s("p",[a._v("PF,奇偶标志位，flag的第2位记录相关指令执行后，其结果所有bit位中1的个数是否为偶数，若为偶数，则PF=1;若为奇数，PF=0.")]),a._v(" "),s("p",[a._v("执行")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("mov al,00000000b\nadd al,00000111b\n\nmov al,00000000b\nadd al,00000011b\n")])])]),s("p",[a._v("验证：")]),a._v(" "),s("p",[s("img",{attrs:{src:v(362),alt:"image"}})]),a._v(" "),s("h3",{attrs:{id:"sf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sf"}},[a._v("#")]),a._v(" SF")]),a._v(" "),s("p",[a._v("SF,符号标志位，flag的第7位，记录相关指令执行后，其结果是否为负，若为负，则SF=1;若为非负，SF=0.")]),a._v(" "),s("p",[a._v("执行：")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("mov al,10000001b\nadd al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n\nmov al,10000000b\nadd al,01111111b\n")])])]),s("p",[a._v("验证:")]),a._v(" "),s("p",[s("img",{attrs:{src:v(363),alt:"image"}})]),a._v(" "),s("p",[a._v("当SF=1即为NG,表示：若指令进行有符号数运算，则结果为负")]),a._v(" "),s("p",[a._v("当SF=0即为PL,表示: 若指令进行有符号数运算，则结果为非负")]),a._v(" "),s("h3",{attrs:{id:"cf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cf"}},[a._v("#")]),a._v(" CF")]),a._v(" "),s("p",[a._v("CF,进位标志位，flag的第0位，在进行无符号数运算的时候，CF记录了运算结果的最高有效位向更高有效位向更高位的进位值/借位值")]),a._v(" "),s("p",[a._v("执行：")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("mov al,11111111b\nadd al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n\nadd al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nsub al,11111111b\n")])])]),s("p",[a._v("验证：")]),a._v(" "),s("p",[s("img",{attrs:{src:v(364),alt:"image"}})]),a._v(" "),s("p",[a._v("可以看到产生进位或向更高位借位都会使CF=1即CY")]),a._v(" "),s("h3",{attrs:{id:"of"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#of"}},[a._v("#")]),a._v(" OF")]),a._v(" "),s("p",[a._v("OF,溢出标志位，flag的第11位，超出机器所能表示的范围称为溢出若发生了溢出OF=1，若没有则OF=0")]),a._v(" "),s("p",[a._v("比如对于8位有符号数据，机器能表示范围是 -128~127；对于16位有符号数据，范围是 -32768~32767")]),a._v(" "),s("p",[a._v("执行：")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("    mov al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("\n    add al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("\n\n    mov al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("63")]),a._v("\n    add al,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("\n")])])]),s("p",[a._v("验证：")]),a._v(" "),s("p",[s("img",{attrs:{src:v(365),alt:"image"}})]),a._v(" "),s("h2",{attrs:{id:"指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令"}},[a._v("#")]),a._v(" 指令")]),a._v(" "),s("h3",{attrs:{id:"adc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adc"}},[a._v("#")]),a._v(" adc")]),a._v(" "),s("p",[a._v("adc是带进位加法指令 adc ax,bx实现(ax)=(ax)+(bx)+CF")]),a._v(" "),s("p",[a._v("利用adc指令计算 1EF000H + 201000H，结果放在ax(高16位)和bx(低16位)")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("    mov ax,001EH\n    mov bx,0F000H\n    add bx,1000H\n    adc ax,0020H\n")])])]),s("p",[a._v("执行结果：")]),a._v(" "),s("p",[s("img",{attrs:{src:v(366),alt:"image"}})]),a._v(" "),s("h3",{attrs:{id:"sbb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sbb"}},[a._v("#")]),a._v(" sbb")]),a._v(" "),s("p",[a._v("sbb是带借位减法指令，sbb ax,bx实现(ax)=(ax)-(bx)-CF")]),a._v(" "),s("h3",{attrs:{id:"cmp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cmp"}},[a._v("#")]),a._v(" cmp")]),a._v(" "),s("p",[a._v("cmp是比较指令，cmp的功能相当于减法指令，不保存结果，但对标志寄存器产生影响")]),a._v(" "),s("p",[a._v("比如执行：")]),a._v(" "),s("div",{staticClass:"language-wasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-wasm"}},[s("code",[a._v("mov ax,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v("\nmov bx,"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\ncmp ax,bx\n")])])]),s("p",[a._v("执行后：\n"),s("code",[a._v("(ax)=8, zf=0, pf=1, sf=0, cf=0, of=0")])]),a._v(" "),s("h3",{attrs:{id:"检测比较结果的条件转移指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检测比较结果的条件转移指令"}},[a._v("#")]),a._v(" 检测比较结果的条件转移指令")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("指令")]),a._v(" "),s("th",[a._v("含义")]),a._v(" "),s("th",[a._v("检测的相关标志位")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("je")]),a._v(" "),s("td",[a._v("等于则转移")]),a._v(" "),s("td",[a._v("ZF=1")])]),a._v(" "),s("tr",[s("td",[a._v("jne")]),a._v(" "),s("td",[a._v("不等于则转移")]),a._v(" "),s("td",[a._v("ZF=0")])]),a._v(" "),s("tr",[s("td",[a._v("jb")]),a._v(" "),s("td",[a._v("低于则转移")]),a._v(" "),s("td",[a._v("CF=1")])]),a._v(" "),s("tr",[s("td",[a._v("jnb")]),a._v(" "),s("td",[a._v("不低于则转移")]),a._v(" "),s("td",[a._v("CF=0")])]),a._v(" "),s("tr",[s("td",[a._v("ja")]),a._v(" "),s("td",[a._v("高于则转移")]),a._v(" "),s("td",[a._v("CF=0且ZF=0")])]),a._v(" "),s("tr",[s("td",[a._v("jna")]),a._v(" "),s("td",[a._v("不高于则转移")]),a._v(" "),s("td",[a._v("CF=1或ZF=1")])])])]),a._v(" "),s("h3",{attrs:{id:"pushf和popf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pushf和popf"}},[a._v("#")]),a._v(" pushf和popf")]),a._v(" "),s("p",[a._v("pushf的功能是将标志寄存器值压栈")]),a._v(" "),s("p",[a._v("popf是从栈中弹出数据，送入标志寄存器")])])}),[],!1,null,null,null);t.default=_.exports}}]);