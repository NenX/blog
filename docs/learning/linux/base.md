## 文件系统
### 路径
 目录分隔符：Unix/Linux系统为斜杆“/”，而DOS则用反斜杠“\”。

### 目录
 windows以盘符管理，linux以目录管理。内部都是树状结构。

#### Linux 的目录结构
- /：根目录
- /bin or /usr/bin：可执行二进制的目录
- /dev：设备
- /home：用户目录
- /usr/include：头文件

### 一切皆文件
#### 文件分类
- 普通文件（-）：
  从Linux的角度来说，类似mp4、pdf、html这样应用层面上的文件类型都属于普通文件。Linux用户可以根据访问权限对普通文件进行查看、更改和删除
- 目录文件（d，directory file）：
  目录文件对于用惯Windows的用户来说不太容易理解，目录也是文件的一种。目录文件包含了各自目录下的文件名和指向这些文件的指针，打开目录事实上就是打开目录文件，只要有访问权限，你就可以随意访问这些目录下的文件（普通文件的执行权限就是目录文件的访问权限），但是只有内核的进程能够修改它们
  虽然不能修改，但是我们能够通过vim去查看目录文件的内容
- 符号链接（l，symbolic link）：
  这种类型的文件类似Windows中的快捷方式，是指向另一个文件的间接指针，也就是我们常说的软链接
- 块设备文件（b，block）和字符设备文件（c，char）：
  这些文件一般隐藏在/dev目录下，在进行设备读取和外设交互时会被使用到，比如磁盘光驱就是块设备文件，串口设备则属于字符设备文件。系统中的所有设备要么是块设备文件，要么是字符设备文件，无一例外
- FIFO（p，pipe）：
  管道文件主要用于进程间通讯。比如使用mkfifo命令可以创建一个FIFO文件，启用一个进程A从FIFO文件里读数据，启动进程B往FIFO里写数据，先进先出，随写随读。
- 套接字（s，socket）：
  用于进程间的网络通信，也可以用于本机之间的非网络通信
  这些文件一般隐藏在/var/run目录下，证明着相关进程的存在
### 用户组
用户组
在linux中的每个用户必须属于一个组，不能独立于组外。在linux中每个文件有所有者、所在组、其它组的概念

- 所有者：一般为文件的创建者，谁创建了该文件，就天然的成为该文件的所有者。用ls ‐ahl命令可以看到文件的所有者，也可以使用chown 用户名 文件名来修改文件的所有者

- 所在组：当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组。用ls ‐ahl命令可以看到文件的所有组，也可以使用chgrp 组名 文件名来修改文件所在的组

- 其它组：除开文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组 

- 改变用户所在的组

### 文件权限
ls -l中显示的内容如下：
```shell {2}
-rwxr-xr-x 1 root root   43080 Jul 21  2018 systemd-sysusers
```
前十个字符确定不同用户对文件的权限
- 第一个字符代表文件类型：普通文件（-）、目录（d），链接（l）...
- 其余字符三个一组（rwx）：r（读）r（写）x（执行）
- 第一组rwx：文件所有者的权限是读、写、执行。
- 第二组r-x：与文件所有者同一组的成员的权限是读、执行。
- 第三组：与文件所有者不同组的成员的权限。
- 也可用数字表示为：r=4，w=2，x=1  因此rwx=4+2+1=7
1 表示连接的文件数，第一个 root 代表用户，第二个 root 代表用户所在组，43080为文件大小。

### 修改权限chmod 
- chmod 755 abc：赋予abc权限rwxr-xr-x
- chmod u=rwx，g=rx，o=rx abc：同上u=用户权限，g=组权限，o=不同组其他用户权限，a=all
- chmod u-x，g+w abc：给abc去除用户执行的权限，增加组写的权限
- chmod a+r abc：给所有用户添加读的权限

### 改变所有者（chown）和用户组（chgrp）命令

- chown xiaoming abc：改变abc的所有者为xiaoming

- chgrp root abc：改变abc所属的组为root

- chown root ./abc：改变abc这个目录的所有者是root

- chown ‐R root ./abc：改变abc这个目录及其下面所有的文件和目录的所有者是root

 

### 改变用户所在组

在添加用户时，可以指定将该用户添加到哪个组中，同样用root的管理权限可以改变某个用户所在的组

- usermod ‐g 组名 用户名

你可以用

- usermod ‐d 目录名 用户名，改变该用户登录的初始目录

### 其他
- groupadd 组名，在linux中添加组

- vi /etc/group，查看linux中所有组信息，可以看可以编辑

- cat /etc/group，查看linux中所有组信息，只可以看不可以编辑

- useradd ‐g 组名 用户名，创建用户的同时指定将该用户分配到哪个组下

- vi /etc/passwd，查看linux中所有用户信息，可以看可以编辑

- cat /etc/passwd，查看linux中所有用户信息，只可以看不可以编辑

### 常见命令

- man
- tar：
  - 打包：tar -cvf xxx.tar 目标路径
  - 解包：tar -xvf xxx.tar [-C 指定路径]
- gzip
  - 压缩：gzip xxx.tar
  - 解压：gzip -d xxx.tar.gz
- 打包+压缩：tar -czvf[-cjvf] xxx.tar.gz[xxx.tar.bz2] 所需文件 
- 解压+解包：tar -xzvf[-xjvf] xxx.tar.gz[xxx.tar.bz2] 所需文件 
- ls:
    - -F:在目录名后加了正斜线（/）
    - -R:递归子目录
    - -i:显示inode编号，在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为inode编号号。
    - -l:-l参数会产生长列表格式的输出，包含了目录中每个文件的更多相关信息
        - 文件类型，比如目录（d）、文件（-）、字符型文件（c）或块设备（b）；
        - 文件的权限（参见第6章）；
        - 文件的硬链接总数；
        - 文件属主的用户名；
        - 文件属组的组名；
        - 文件的大小（以字节为单位）；
        - 文件的上次修改时间；
        - 文件名或目录名。
    - 过滤输出列表：
        - 问号（?）代表一个字符；
        - 星号（*）代表零个或多个字符
        - 中括号[]
            - [ai] 匹配a或i
            - [a – i] 字母a到i
            - [!a] 排除a
- touch：
    - 创建新文件
    - 改变文件的修改时间
- cp：复制文件 cp source destination
    - -i:询问
    - -R:递归复制
- 链接
    - 硬链接(Hard Link)：硬链接会创建独立的虚拟文件，其中包含了原始文件的信息及位置。但是它们从根本上而言
    是同一个文件。引用硬链接文件等同于引用了源文件。硬连接指通过inode编号来进行连接。在Linux中，多个文件名指向同一inode编号是存在的。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。(删除源文件还可访问)
    - 符号链接(Symbolic Link)：软链接文件有类似于Windows的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。符号链接就是一个实实在在的文件，它指向存放在虚拟目录结构中某个地方的另一个文件。这两个通过符号链接在一起的文件，彼此的内容并不相同。(删除源文件不可访问)
    - 软链接：ln -s 源文件路径 目标路径
- sort 排序，sort [file]
- grep：搜索数据，grep [options] pattern [file] 
- Shebang (Hashbang) 是指 <code>#!</code> 开头的序列， 在文件中存在 Shebang 的情况下，类 Unix 操作系统的程序加载器会分析 Shebang 后的内容，将这些内容作为解释器指令，并调用该指令，并将载有 Shebang 的文件路径作为该解释器的参数[1]。例如，以指令 <code>#!/bin/sh</code> 开头的文件在执行时会实际调用 <code>/bin/sh</code> 程序