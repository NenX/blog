<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.4 Processors Read and Interpret Instructions Stored in Memory | 无味咸鱼</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="Python linux c++ nodejs git 前端">
    <link rel="preload" href="/blog/assets/css/0.styles.5be86d74.css" as="style"><link rel="preload" href="/blog/assets/js/app.d632149a.js" as="script"><link rel="preload" href="/blog/assets/js/2.57d6b41d.js" as="script"><link rel="preload" href="/blog/assets/js/22.0a983704.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.c14a962d.js"><link rel="prefetch" href="/blog/assets/js/100.1cd56744.js"><link rel="prefetch" href="/blog/assets/js/101.a9aa44e2.js"><link rel="prefetch" href="/blog/assets/js/102.c645984d.js"><link rel="prefetch" href="/blog/assets/js/103.9ffb7658.js"><link rel="prefetch" href="/blog/assets/js/104.f7fd3dd0.js"><link rel="prefetch" href="/blog/assets/js/105.75006034.js"><link rel="prefetch" href="/blog/assets/js/106.63423224.js"><link rel="prefetch" href="/blog/assets/js/107.8c14363a.js"><link rel="prefetch" href="/blog/assets/js/108.2ddbcb02.js"><link rel="prefetch" href="/blog/assets/js/11.3d548b61.js"><link rel="prefetch" href="/blog/assets/js/12.9d2c4f8a.js"><link rel="prefetch" href="/blog/assets/js/13.a9b409d7.js"><link rel="prefetch" href="/blog/assets/js/14.3a02f7ba.js"><link rel="prefetch" href="/blog/assets/js/15.6a994d14.js"><link rel="prefetch" href="/blog/assets/js/16.9233eade.js"><link rel="prefetch" href="/blog/assets/js/17.4cfc67cf.js"><link rel="prefetch" href="/blog/assets/js/18.dfbd3923.js"><link rel="prefetch" href="/blog/assets/js/19.0412ef20.js"><link rel="prefetch" href="/blog/assets/js/20.2df1e597.js"><link rel="prefetch" href="/blog/assets/js/21.d97aa624.js"><link rel="prefetch" href="/blog/assets/js/23.6003bdaa.js"><link rel="prefetch" href="/blog/assets/js/24.a46fad1d.js"><link rel="prefetch" href="/blog/assets/js/25.5922eb09.js"><link rel="prefetch" href="/blog/assets/js/26.0644938c.js"><link rel="prefetch" href="/blog/assets/js/27.06d33185.js"><link rel="prefetch" href="/blog/assets/js/28.f2220207.js"><link rel="prefetch" href="/blog/assets/js/29.58089910.js"><link rel="prefetch" href="/blog/assets/js/3.a81e591c.js"><link rel="prefetch" href="/blog/assets/js/30.b206a41d.js"><link rel="prefetch" href="/blog/assets/js/31.55f76152.js"><link rel="prefetch" href="/blog/assets/js/32.ab6a81d4.js"><link rel="prefetch" href="/blog/assets/js/33.47cd718e.js"><link rel="prefetch" href="/blog/assets/js/34.d358307a.js"><link rel="prefetch" href="/blog/assets/js/35.2e063ad0.js"><link rel="prefetch" href="/blog/assets/js/36.a1b0c8d4.js"><link rel="prefetch" href="/blog/assets/js/37.295ab3a3.js"><link rel="prefetch" href="/blog/assets/js/38.523bd102.js"><link rel="prefetch" href="/blog/assets/js/39.4accf413.js"><link rel="prefetch" href="/blog/assets/js/4.3086808d.js"><link rel="prefetch" href="/blog/assets/js/40.8fc1ef90.js"><link rel="prefetch" href="/blog/assets/js/41.f4ab864c.js"><link rel="prefetch" href="/blog/assets/js/42.f7badf16.js"><link rel="prefetch" href="/blog/assets/js/43.c7431b80.js"><link rel="prefetch" href="/blog/assets/js/44.9f3dfe4f.js"><link rel="prefetch" href="/blog/assets/js/45.bd001a18.js"><link rel="prefetch" href="/blog/assets/js/46.75789747.js"><link rel="prefetch" href="/blog/assets/js/47.b2ded0c6.js"><link rel="prefetch" href="/blog/assets/js/48.b0e921d0.js"><link rel="prefetch" href="/blog/assets/js/49.2a5955e8.js"><link rel="prefetch" href="/blog/assets/js/5.69539770.js"><link rel="prefetch" href="/blog/assets/js/50.6c29e98b.js"><link rel="prefetch" href="/blog/assets/js/51.88dff119.js"><link rel="prefetch" href="/blog/assets/js/52.0afcc8e5.js"><link rel="prefetch" href="/blog/assets/js/53.134a6419.js"><link rel="prefetch" href="/blog/assets/js/54.b8563d36.js"><link rel="prefetch" href="/blog/assets/js/55.8afa0dc5.js"><link rel="prefetch" href="/blog/assets/js/56.2b5ca77d.js"><link rel="prefetch" href="/blog/assets/js/57.225bf43f.js"><link rel="prefetch" href="/blog/assets/js/58.f834f952.js"><link rel="prefetch" href="/blog/assets/js/59.e3059bac.js"><link rel="prefetch" href="/blog/assets/js/6.45168e70.js"><link rel="prefetch" href="/blog/assets/js/60.1658c77b.js"><link rel="prefetch" href="/blog/assets/js/61.b432c203.js"><link rel="prefetch" href="/blog/assets/js/62.11e44c8e.js"><link rel="prefetch" href="/blog/assets/js/63.8d1878b1.js"><link rel="prefetch" href="/blog/assets/js/64.2cdd2ad3.js"><link rel="prefetch" href="/blog/assets/js/65.a4bfabc0.js"><link rel="prefetch" href="/blog/assets/js/66.b3184942.js"><link rel="prefetch" href="/blog/assets/js/67.74ad9981.js"><link rel="prefetch" href="/blog/assets/js/68.590fe076.js"><link rel="prefetch" href="/blog/assets/js/69.fca7907f.js"><link rel="prefetch" href="/blog/assets/js/7.f15ecd2a.js"><link rel="prefetch" href="/blog/assets/js/70.a3418552.js"><link rel="prefetch" href="/blog/assets/js/71.e7a530d9.js"><link rel="prefetch" href="/blog/assets/js/72.dc5c9206.js"><link rel="prefetch" href="/blog/assets/js/73.09f5d29e.js"><link rel="prefetch" href="/blog/assets/js/74.639591a1.js"><link rel="prefetch" href="/blog/assets/js/75.a0901b16.js"><link rel="prefetch" href="/blog/assets/js/76.2a01b2d3.js"><link rel="prefetch" href="/blog/assets/js/77.7ec2a4f4.js"><link rel="prefetch" href="/blog/assets/js/78.e6ef17fa.js"><link rel="prefetch" href="/blog/assets/js/79.536f3986.js"><link rel="prefetch" href="/blog/assets/js/8.489fa7fe.js"><link rel="prefetch" href="/blog/assets/js/80.73ac36a2.js"><link rel="prefetch" href="/blog/assets/js/81.561dad7f.js"><link rel="prefetch" href="/blog/assets/js/82.90684c17.js"><link rel="prefetch" href="/blog/assets/js/83.348ac9ff.js"><link rel="prefetch" href="/blog/assets/js/84.e69458a5.js"><link rel="prefetch" href="/blog/assets/js/85.07c5ba72.js"><link rel="prefetch" href="/blog/assets/js/86.716ad12a.js"><link rel="prefetch" href="/blog/assets/js/87.2edaa508.js"><link rel="prefetch" href="/blog/assets/js/88.00b2592e.js"><link rel="prefetch" href="/blog/assets/js/89.e1dcd8bc.js"><link rel="prefetch" href="/blog/assets/js/9.9e1f96c4.js"><link rel="prefetch" href="/blog/assets/js/90.37680ca0.js"><link rel="prefetch" href="/blog/assets/js/91.542b2403.js"><link rel="prefetch" href="/blog/assets/js/92.c22dfd64.js"><link rel="prefetch" href="/blog/assets/js/93.39be434e.js"><link rel="prefetch" href="/blog/assets/js/94.e855dfe7.js"><link rel="prefetch" href="/blog/assets/js/95.c49772f0.js"><link rel="prefetch" href="/blog/assets/js/96.b52f2418.js"><link rel="prefetch" href="/blog/assets/js/97.350150a7.js"><link rel="prefetch" href="/blog/assets/js/98.8416a182.js"><link rel="prefetch" href="/blog/assets/js/99.5947b522.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5be86d74.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">无味咸鱼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/dictation/" class="nav-link router-link-active">
  dictation
</a></div><div class="nav-item"><a href="/blog/fe/" class="nav-link">
  fe
</a></div><div class="nav-item"><a href="/blog/learning/" class="nav-link">
  learning
</a></div><div class="nav-item"><a href="/blog/netWork/" class="nav-link">
  netWork
</a></div><div class="nav-item"><a href="/blog/基础/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/blog/工具/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/dictation/" class="nav-link router-link-active">
  dictation
</a></div><div class="nav-item"><a href="/blog/fe/" class="nav-link">
  fe
</a></div><div class="nav-item"><a href="/blog/learning/" class="nav-link">
  learning
</a></div><div class="nav-item"><a href="/blog/netWork/" class="nav-link">
  netWork
</a></div><div class="nav-item"><a href="/blog/基础/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/blog/工具/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>csapp</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/dictation/csapp/1_1.html" class="sidebar-link">1_1</a></li><li><a href="/blog/dictation/csapp/1_10.html" class="sidebar-link">1_10</a></li><li><a href="/blog/dictation/csapp/1_2.html" class="sidebar-link">1_2</a></li><li><a href="/blog/dictation/csapp/1_3.html" class="sidebar-link">1_3</a></li><li><a href="/blog/dictation/csapp/1_4.html" aria-current="page" class="active sidebar-link">1_4</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/dictation/csapp/1_4.html#_1-4-1-hardware-organization-of-a-system" class="sidebar-link">1.4.1 Hardware Organization of a System</a></li><li class="sidebar-sub-header"><a href="/blog/dictation/csapp/1_4.html#_1-4-1-hardware-organization-of-a-system-2" class="sidebar-link">1.4.1 Hardware Organization of a System</a></li></ul></li><li><a href="/blog/dictation/csapp/1_5.html" class="sidebar-link">1_5</a></li><li><a href="/blog/dictation/csapp/1_6.html" class="sidebar-link">1_6</a></li><li><a href="/blog/dictation/csapp/1_7.html" class="sidebar-link">1_7</a></li><li><a href="/blog/dictation/csapp/1_8.html" class="sidebar-link">1_8</a></li><li><a href="/blog/dictation/csapp/1_9.html" class="sidebar-link">1_9</a></li><li><a href="/blog/dictation/csapp/2_1 copy.html" class="sidebar-link">2_1 copy</a></li><li><a href="/blog/dictation/csapp/2_1.html" class="sidebar-link">2_1</a></li><li><a href="/blog/dictation/csapp/2_2.html" class="sidebar-link">2_2</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>README.md</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>sicp</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-4-processors-read-and-interpret-instructions-stored-in-memory"><a href="#_1-4-processors-read-and-interpret-instructions-stored-in-memory" class="header-anchor">#</a> 1.4 Processors Read and Interpret Instructions Stored in Memory</h1> <p>At this point, our hello.c source program has been translated by the compilation
system into an executable object file called hello that is stored on disk. To run
the executable file on a Unix system, we type its name to an application program
known as a shell:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>linux<span class="token operator">&gt;</span> ./hello
hello, world
linux<span class="token operator">&gt;</span>
</code></pre></div><p>The shell is a command-line interpreter that prints a prompt, waits for you
to type a command line, and then performs the command. If the first word of the
command line does not correspond to a built-in shell command, then the shell
assumes that it is the name of an executable file that it should load and run. So
in this case, the shell loads and runs the hello program and then waits for it to
terminate. The hello program prints its message to the screen and then terminates.
The shell then prints a prompt and waits for the next input command line.</p> <h2 id="_1-4-1-hardware-organization-of-a-system"><a href="#_1-4-1-hardware-organization-of-a-system" class="header-anchor">#</a> 1.4.1 Hardware Organization of a System</h2> <p>To understand what happens to our hello program when we run it, we need
to understand the hardware organization of a typical system, which is shown
in Figure 1.4. This particular picture is modeled after the family of recent Intel
systems, but all systems have a similar look and feel. Don’t worry about the
complexity of this figure just now. We will get to its various details in stages
throughout the course of the book.</p> <h3 id="buses"><a href="#buses" class="header-anchor">#</a> Buses</h3> <p>Running throughout the system is a collection of electrical conduits called buses
that carry bytes of information back and forth between the components. Buses
are typically designed to transfer fixed-size chunks of bytes known as words. The
number of bytes in a word (the word size) is a fundamental system parameter that
varies across systems. Most machines today have word sizes of either 4 bytes (32
bits) or 8 bytes (64 bits). In this book, we do not assume any fixed definition of
word size. Instead, we will specify what we mean by a “word” in any context that
requires this to be defined.</p> <h3 id="i-o-devices"><a href="#i-o-devices" class="header-anchor">#</a> I/O Devices</h3> <p>Input/output (I/O) devices are the system’s connection to the external world. Our
example system has four I/O devices: a keyboard and mouse for user input, a
display for user output, and a disk drive (or simply disk) for long-term storage of
data and programs. Initially, the executable hello program resides on the disk.</p> <p>Each I/O device is connected to the I/O bus by either a controller or an adapter.
The distinction between the two is mainly one of packaging. Controllers are chip
sets in the device itself or on the system’s main printed circuit board (often called
the motherboard). An adapter is a card that plugs into a slot on the motherboard.
Regardless, the purpose of each is to transfer information back and forth between
the I/O bus and an I/O device.</p> <p>Chapter 6 has more to say about how I/O devices such as disks work. In
Chapter 10, you will learn how to use the Unix I/O interface to access devices from
your application programs. We focus on the especially interesting class of devices
known as networks, but the techniques generalize to other kinds of devices as well.</p> <h3 id="main-memory"><a href="#main-memory" class="header-anchor">#</a> Main Memory</h3> <p>The main memory is a temporary storage device that holds both a program and
the data it manipulates while the processor is executing the program. Physically,
main memory consists of a collection of dynamic random access memory (DRAM)
chips. Logically, memory is organized as a linear array of bytes, each with its own
unique address (array index) starting at zero. In general, each of the machine
instructions that constitute a program can consist of a variable number of bytes.
The sizes of data items that correspond to C program variables vary according
to type. For example, on an x86-64 machine running Linux, data of type short
require 2 bytes, types int and float 4 bytes, and types long and double 8 bytes</p> <p>Chapter 6 has more to say about how memory technologies such as DRAM
chips work, and how they are combined to form main memory.</p> <h3 id="processor"><a href="#processor" class="header-anchor">#</a> Processor</h3> <p>The central processing unit (CPU), or simply processor, is the engine that interprets (or executes) instructions stored in main memory. At its core is a word-size
storage device (or register) called the program counter (PC). At any point in time,
the PC points at (contains the address of) some machine-language instruction in
main memory.</p> <p>From the time that power is applied to the system until the time that the
power is shut off, a processor repeatedly executes the instruction pointed at by the
program counter and updates the program counter to point to the next instruction.
A processor appears to operate according to a very simple instruction execution
model, defined by itsinstruction set architecture. In this model, instructions execute</p> <p>in strict sequence, and executing a single instruction involves performing a series
of steps. The processor reads the instruction from memory pointed at by the
program counter (PC), interprets the bits in the instruction, performs some simple
operation dictated by the instruction, and then updates the PC to point to the next
instruction, which may or may not be contiguous in memory to the instruction that
was just executed.</p> <p>There are only a few of these simple operations, and they revolve around
main memory, the register file, and the arithmetic/logic unit (ALU). The register
file is a small storage device that consists of a collection of word-size registers, each
with its own unique name. The ALU computes new data and address values. Here
are some examples of the simple operations that the CPU might carry out at the
request of an instruction:</p> <ul><li>Load: Copy a byte or a word from main memory into a register, overwriting
the previous contents of the register.</li> <li>Store: Copy a byte or a word from a register to a location in main memory,
overwriting the previous contents of that location.</li> <li>Operate: Copy the contents of two registers to the ALU, perform an arithmetic
operation on the two words, and store the result in a register, overwriting the
previous contents of that register.</li> <li>Jump: Extract a word from the instruction itself and copy that word into the
program counter (PC), overwriting the previous value of the PC.</li></ul> <p>We say that a processor appears to be a simple implementation of its instruction set architecture,
but in fact modern processors use far more complex mechanisms to speed up program execution.
Thus, we can distinguish the processor’s instruction set architecture,
describing the effect of each machine-code instruction, from its microarchitecture,
describing how the processor is actually implemented.  When we study machine code in Chapter 3,
we will consider the abstraction provided by the machine’s instruction set architecture.
Chapter 4 has more to say about how processors are actually implemented.
Chapter 5 describes a model of how modern processors work that enables predicting and optimizing
the performance of machine-language programs.</p> <h2 id="_1-4-1-hardware-organization-of-a-system-2"><a href="#_1-4-1-hardware-organization-of-a-system-2" class="header-anchor">#</a> 1.4.1 Hardware Organization of a System</h2> <p>Given this simple view of a system’s hardware organization and operation, we can
begin to understand what happens when we run our example program. We must
omit a lot of details here that will be filled in later, but for now we will be content
with the big picture.</p> <p>Initially, the shell program is executing its instructions, waiting for us to type a
command. As we type the characters ./hello at the keyboard, the shell program
reads each one into a register and then stores it in memory, as shown in Figure 1.5.</p> <p>When we hit the enter key on the keyboard, the shell knows that we have
finished typing the command. The shell then loads the executable hello file by
executing a sequence of instructions that copies the code and data in the hello
object file from disk to main memory. The data includes the string of characters
hello, world\n that will eventually be printed out.</p> <p>Using a technique known as direct memory access (DMA, discussed in Chapter 6), the data travel directly from disk to main memory, without passing through the processor. This step is shown in Figure 1.6.</p> <p>Once the code and data in the hello object file are loaded into memory,
the processor begins executing the machine-language instructions in the hello
program’s main routine. These instructions copy the bytes in the hello, world\n
string from memory to the register file, and from there to the display device, where
they are displayed on the screen. This step is shown in Figure 1.7.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/10/2020, 7:23:55 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/dictation/csapp/1_3.html" class="prev">
        1_3
      </a></span> <span class="next"><a href="/blog/dictation/csapp/1_5.html">
        1_5
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.d632149a.js" defer></script><script src="/blog/assets/js/2.57d6b41d.js" defer></script><script src="/blog/assets/js/22.0a983704.js" defer></script>
  </body>
</html>
